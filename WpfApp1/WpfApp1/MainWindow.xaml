<Window x:Class="WpfApp1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Git 工具管理" Height="700" Width="500"
        MinWidth="500" MinHeight="500"
        WindowStartupLocation="CenterScreen"
        Background="#FAFAFA">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Header -->
            <RowDefinition Height="Auto"/>
            <!-- Input -->
            <RowDefinition Height="Auto"/>
            <!-- Buttons -->
            <RowDefinition Height="*"/>
            <!-- Status Section -->
        </Grid.RowDefinitions>

        <!-- Header Section -->
        <StackPanel Grid.Row="0" Orientation="Vertical" Margin="0,0,0,20">
            <TextBlock Text="Git 安裝更新工具" FontSize="20" FontWeight="Bold" Foreground="#3F51B5"/>
            <Separator Margin="0,10,0,10"/>
        </StackPanel>

        <!-- Input Section -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,20">
            <Label Content="Git 路徑：" VerticalAlignment="Center" FontSize="14" FontWeight="Medium"/>
            <TextBox x:Name="GitPathTextBox" Width="300" Height="30" Margin="10,0,0,0" Padding="5"
                     BorderBrush="#3F51B5" BorderThickness="1" TextChanged="GitPathTextBox_TextChanged" KeyDown="GitPathTextBox_KeyDown"/>
        </StackPanel>

        <!-- Button Section -->
        <WrapPanel Grid.Row="2" HorizontalAlignment="Center" Margin="0,0,0,20">
            <Button x:Name="InstallGitButton" Content="📥 安裝" Width="150" Height="40" FontSize="14"
                    Background="#4CAF50" Foreground="White" BorderThickness="0" Cursor="Hand"
                    Margin="5" Click="InstallGit_Click"/>
            <Button x:Name="CheckoutButton" Content="🔄 選場域" Width="150" Height="40" FontSize="14"
                    Background="#2196F3" Foreground="White" BorderThickness="0" Cursor="Hand"
                    Margin="5" Click="Checkout_Click"/>
            <Button x:Name="UpdateGitButton" Content="⬆️ 更新Kiosk" Width="150" Height="40" FontSize="14"
                    Background="#FF9800" Foreground="White" BorderThickness="0" Cursor="Hand"
                    Margin="5" Click="UpdateGit_Click"/>
            <Button x:Name="AssembleKioskButton" Content="📦 組裝Kiosk" Width="150" Height="40" FontSize="14"
                    Background="#9C27B0" Foreground="White" BorderThickness="0" Cursor="Hand"
                    Margin="5" Click="Assemble_Click"/>
            <Button x:Name="AssembleKiosk" Content="📦 一鍵更新" Width="150" Height="40" FontSize="14"
                    Background="Red" Foreground="White" BorderThickness="0" Cursor="Hand"
                    Margin="5" Click="ALL_Assemble_Click" Visibility="Collapsed"/>
            <Button x:Name="ModifyReg" Content="備份kiosk" Width="150" Height="40" FontSize="14"
                    Background="Gray" Foreground="White" BorderThickness="0" Cursor="Hand"
                    Margin="5" Click="Backup_Click"/>
            <Button x:Name="modifyconfig" Content="更改kiosk Config" Width="150" Height="40" FontSize="14"
                    Background="pink" Foreground="White" BorderThickness="0" Cursor="Hand"
                    Margin="5" Click="Modifyconfig_Click"/>
        </WrapPanel>
      

        <!-- Status Section -->
        <StackPanel Grid.Row="3" Margin="0,20,0,0">
            <TextBlock Text="狀態：" FontSize="14" FontWeight="Bold" Margin="0,0,0,5"/>
            <TextBox x:Name="StatusTextBox" Height="150" TextWrapping="Wrap"
                     IsReadOnly="True" VerticalScrollBarVisibility="Auto"
                     Padding="10" BorderBrush="#BDBDBD" BorderThickness="1"/>
        </StackPanel>
        <Grid Name="LoadingOverlay" Background="#AA000000"
          Visibility="Collapsed" Panel.ZIndex="999" Margin="-17,-14,-18,-19" Grid.RowSpan="4">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <TextBlock Text="處理中，請稍候..." FontSize="16" Foreground="White"/>
                <ProgressBar IsIndeterminate="True" Width="200"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>



